<script type="text/javascript">
//<![CDATA[
	/*global $ */
	/*jslint browser: true, nomen: true */
	$.jgrid.no_legacy_api = true;
	$.jgrid.useJSON = true;

	$(document).ready(function () {
		'use strict';
		var mydata4 = [
				{rdate:'2020-08-31', title:'タイトル1', rworker:'帝国　太郎１（7777777）', result:'処理中'},
				{rdate:'2020-08-30', title:'タイトル２', rworker:'帝国　太郎２（7777777）', result:'完了'},
				{rdate:'2020-08-29', title:'タイトル３', rworker:'帝国　太郎３（7777777）', result:'完了'},
			];
		$("#list4").jqGrid({
			datatype: 'local',
			data: mydata4,
			colNames: ['登録日付', 'タイトル', '登録者（社員番号）', '結果'],
			colModel: [
				{name: 'rdate', index: 'title', width: 60, align: 'center'},
				{name: 'title', index: 'sdate', width: 300, align: 'left'},
				{name: 'rworker', index: 'rworker', width: 80, align: 'center'},
				{name: 'result', index: 'result', width: 60, align: 'center'},
			],
			rowNum: 20,
			rowList: [20, 50, 100, 200],
			autowidth: true,
			pager: '#pager4',
			gridview: true,
			sortable: function (permutation) {
				alert ('permutation=' + permutation.join(','));
			},
			//multiselect: true,
			rownumbers: true,
			sortname: 'id',
			viewrecords: true,
			sortorder: 'desc',
			//caption: 'How to monitor changes on sortable rows',
			height: 'auto',
			ondblClickRow: function(rowid,iRow,iCol,e) {
				$(".bbsList").hide();
				$(".bbsView").show();
			}
		});
		var textAreaResize = function() {
			$('.txtArea').on('keyup', 'textarea', function (e){
				$(this).css('min-height', '500px');
				$(this).css('height', 'auto');
				//$(this).height( this.scrollHeight == 0 ? '0':this.scrollHeight);
			});
			$('.txtArea').find('textarea').keyup();
		};
		textAreaResize(); // textarea 높이 자동 조절

		$("#newBBSBtn").click(function () {
			$(".bbsList").hide();
			$(".bbsWrite").show();
			textAreaResize(); // textarea 높이 자동 조절
		});
		$("#modifyBBSBtn").click(function () {
			$(".bbsView").hide();
			$(".bbsModify").show();
		    textAreaResize(); // textarea 높이 자동 조절
		});
		$(".goBBSList").click(function () {
			$(".bbsView").hide();
			$(".bbsModify").hide();
			$(".bbsWrite").hide();
			$(".bbsList").show();
		});
		/**/
		$("#requiredSampleBtn").on("click", function(){
			$(".required").append( "<p class='retxt'>必須入力項目です。</p>" );
			$(".goBBSView").click(function () {
				$(".bbsModify").hide();
				$(".bbsWrite").hide();
				$(".bbsView").show();
			});
		}); //2020-08-27 에러메세지 표출 및 저장
	});
//]]>
</script>
<div class="detail">
	<!-- 목록 -->
	<div class="bbsList">
		<div class="btnLine bbsCase">
			<span class="totalNum">Total：3</span>
			<span class="right">
				<button class="btnLN red" id="newBBSBtn">新規登録</button>
			</span>
		</div>
		<!---->
		<div class="jqGridSet wideRs">
			<table id="list4"><tr><td></td></tr></table>
			<div id="pager4"></div>
		</div>
		<br/>
		<label>最新バッチ: 2020-10-12 01:00:47</label>
		<!---->
	</div>
	<!-- //목록 -->

	<!-- 상세화면 -->
	<div class="bbsView" style="display:none;">
		<div class="btnLine bbsCase">
			<span class="left">
				<button class="btnLN goBBSList">目録へ</button>
			</span>
			<span class="right">
				<button class="btnBG green save" id="modifyBBSBtn">修正</button>
				<button class="btnBG red" id="listBBSBtn">削除</button>
			</span>
		</div>
		<!---->
		<div class="bbsTS">
			<table>
				<colgroup>
					<col width="60">
					<col width="200">
					<col width="130">
					<col width="200">
					<col width="60">
					<col width="200">
				</colgroup>
				<body>
					<tr>
						<th>登録日付</th>
						<td>2020-08-31</td>
						<th>登録者（社員番号）</th>
						<td>帝国　太郎１（7777777）</td>
						<th>結果</th>
						<td>
							<span class="selectSet red bbsSelect">
								<select>
									<option value="0">新規</option>
									<option value="1">完了</option>
								</select>
							</span>
						</td>
					</tr>
					<tr>
						<th>タイトル</th>
						<td colspan="5">タイトル１</td>
					</tr>
					<tr>
						<th>内容</th>
						<td colspan="5" class="mainText">内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</td>
					</tr>
					<tr>
						<th>ファイル</th>
						<td colspan="5">
							<ul class="downloadList"><!-- 2020-08-18 class 추가 -->
								<li><a href="#" download>ABCD1234.pdf</a><span>[2020-08-18]</span></li><!-- 2020-08-18 날짜영역추가 -->
								<li><a href="#" download>ABCD1234.pdf</a><span>[2020-08-18]</span></li>
								<li><a href="#" download>ABCD1234.pdf</a><span>[2020-08-18]</span></li>
								<li><a href="#" download>ABCD1234.pdf</a><span>[2020-08-18]</span></li>
								<li><a href="#" download>ABCD1234.pdf</a><span>[2020-08-18]</span></li>
							</ul>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!---->
		<script>
		$(document).ready(function(){
			$(".bbsSelect select").on("change", function(){
				if($(this).find("option:selected").val() == 0){
					$(".bbsSelect").removeClass('green').addClass('red');
				}else if($(this).find("option:selected").val() == 1){
					$(".bbsSelect").removeClass('red').addClass('green');
				}
			}); //

			$(".btnPost").click(function(){
				$(".sampleComment").show();
			});
			$(".commentBox .green").click(function(){
				$(this).parent().toggle();
				$(this).parent().next('.submit').toggle();
				$(this).parents('.info').next('.txt').toggle();
				$(this).parents('.info').next().next('.editor').toggle();
			});
			$(".commentBox .submit *").click(function(){
				$(this).parent().toggle();
				$(this).parent().prev('.ready').toggle();
				$(this).parents('.info').next('.txt').toggle();
				$(this).parents('.info').next().next('.editor').toggle();
			});
			$(".commentBox .cdelete").click(function(){
				$(this).parents('li').hide();
			});
		});
		</script>
		<div class="commentSet">
			<div class="commentWrite">
				<div>
					<textarea placeholder="内容"></textarea>
					<input type="button" value="保存" class="btnPost">
				</div>
			</div>
			<!---->
			<div class="commentList">
				<ul>
					<li style="display:none;" class="sampleComment">
						<div class="commentBox">
							<div class="info">
								<span class="time"><em>登録日付：</em>2020-08-31</span>
								<span class="name"><em>登録者（社員番号）：</em>帝国　太郎２（7777777）</span>
								<div class="ready">
									<button class="btnLN green ssm">修正</button>
									<button class="btnLN ssm cdelete">削除</button>
								</div>
								<div class="submit" style="display:none;">
									<button class="btnLN blue ssm">保存</button>
									<button class="btnLN red ssm">取消</button>
								</div>
							</div>
							<div class="txt">
								内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容
							</div>
							<div class="editor">
								<textarea></textarea>
							</div>
						</div>
					</li>
					<!-- Comment Loop -->
					<li>
						<div class="commentBox">
							<div class="info">
								<span class="time"><em>登録日付：</em>2020-08-30</span>
								<span class="name"><em>登録者（社員番号）：</em>帝国　太郎１（555555）</span>
								<div class="ready" style="display:none;">
									<button class="btnLN green ssm">修正</button>
									<button class="btnLN ssm cdelete">削除</button>
								</div>
								<div class="submit" style="display:none;">
									<button class="btnLN blue ssm">保存</button>
									<button class="btnLN red ssm">取消</button>
								</div>
							</div>
							<div class="txt">
								内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容
							</div>
							<div class="editor">
								<textarea></textarea>
							</div>
						</div>
					</li>
					<!-- //Comment Loop -->
					<li>
						<div class="commentBox">
							<div class="info">
								<span class="time"><em>登録日付：</em>2020-08-30</span>
								<span class="name"><em>登録者（社員番号）：</em>帝国　太郎２（7777777）</span>
								<div class="ready">
									<button class="btnLN green ssm">修正</button>
									<button class="btnLN ssm cdelete">削除</button>
								</div>
								<div class="submit" style="display:none;">
									<button class="btnLN blue ssm">保存</button>
									<button class="btnLN red ssm">取消</button>
								</div>
							</div>
							<div class="txt">
								内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2
							</div>
							<div class="editor">
								<textarea>内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2内容2</textarea>
							</div>
						</div>
					</li>
					<li>
						<div class="commentBox">
							<div class="info">
								<span class="time"><em>登録日付：</em>2020-08-29</span>
								<span class="name"><em>登録者（社員番号）：</em>帝国　太郎２（7777777）</span>
								<div class="ready">
									<button class="btnLN green ssm">修正</button>
									<button class="btnLN ssm cdelete">削除</button>
								</div>
								<div class="submit" style="display:none;">
									<button class="btnLN blue ssm">保存</button>
									<button class="btnLN red ssm">取消</button>
								</div>
							</div>
							<div class="txt">
								内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1
							</div>
							<div class="editor">
								<textarea>内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1内容1</textarea>
							</div>
						</div>
					</li>
				</ul>
			</div>
			<!---->
		</div>
		<!--//-->
	</div>
	<!-- //상세화면 -->

	<!-- 수정 -->
	<div class="bbsModify" style="display:none;">
		<div class="btnLine bbsCase">
			<span class="right">
				<button class="btnBG blue save goBBSView">保存</button>
				<button class="btnBG goBBSList">取消</button>
			</span>
		</div>
		<!---->
		<div class="bbsTS">
			<table>
				<colgroup>
					<col width="60" />
					<col width="200" />
					<col width="90" />
					<col width="200" />
					<col width="60" />
					<col width="200" />
				</colgroup>
				<body>
					<tr>
						<th>登録日付</th>
						<td>2020-08-31</td>
						<th>登録者（社員番号）</th>
						<td>帝国　太郎１（7777777）</td>
						<th>結果</th>
						<td>
							<span class="selectSet red bbsSelect">
								<select>
									<option value="0">新規</option>
									<option value="1">完了</option>
								</select>
							</span>
						</td>
					</tr>
					<tr>
						<th>タイトル</th>
						<td colspan="5"><input type="text" value="タイトル１"/></td>
					</tr>
					<tr>
						<th>内容</th>
						<td colspan="5" class="txtArea"><textarea>内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</textarea></td>
					</tr>
					<tr>
						<th>ファイル</th>
						<td colspan="5">
							<table class="pdfCase">
								<colgroup>
									<col>
									<col width="140">
								</colgroup>
								<tbody>
									<tr>
										<td colspan="3">
											<div id="dropzonForm" class="dropzone dz-clickable">
												<div class="dz-default dz-message"><span>Drop files here to upload</span></div>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<!-- //수정 -->

	<!-- 신규등록 -->
	<div class="bbsWrite" style="display:none;">
		<div class="btnLine bbsCase">
			<span class="right">
				<button class="btnBG blue save goBBSView" id="requiredSampleBtn">保存</button>
				<button class="btnBG red goBBSList">取消</button>
			</span>
		</div>
		<!---->
		<div class="bbsTS">
			<table>
				<colgroup>
					<col width="60" />
					<col width="750" />
				</colgroup>
				<tbody>
					<tr>
						<th>タイトル</th>
						<td class="required"><input type="text" value=""/></td><!-- 2020-08-27 에러메세지 샘플 -->
					</tr>
					<tr>
						<th>内容</th>
						<td class="txtArea"><textarea style="min-height: 500px; overflow: hidden; overflow-wrap: break-word; height: 500px;"></textarea></td>
					</tr>
					<tr>
						<th>ファイル</th>
						<td>
							<table class="pdfCase">
								<colgroup>
									<col>
									<col width="140">
								</colgroup>
								<tbody>
									<tr>
										<td colspan="3">
											<div id="dropzonForm" class="dropzone dz-clickable">
												<div class="dz-default dz-message"><span>Drop files here to upload</span></div>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<!-- //신규등록 -->

</div>
